"use strict";function promiseWrap(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Promise(function(t){return t()}).then(function(){return t.apply(void 0,__spread(e))})}function serialize(t){var e,r,n,o="",i=0,a=function(t){var e,r,n,o,i=typeof t;if("object"===i&&!t)return"null";if("object"===i){if(!t.constructor)return"object";n=t.constructor.toString(),e=n.match(/(\w+)\(/),e&&(n=e[1].toLowerCase()),o=["boolean","number","string","array"];for(r in o)if(n===o[r]){i=o[r];break}}return i},s=a(t);switch(s){case"function":e="";break;case"boolean":e="b:"+(t?"1":"0");break;case"number":e=(Math.round(t)===t?"i":"d")+":"+t;break;case"string":e="s:"+function(t){var e=0,r=0,n=t.length,o=0;for(r=0;r<n;r++)o=t.charCodeAt(r),e+=o<128?1:o<2048?2:3;return e}(t)+':"'+t+'"';break;case"array":case"object":e="a";for(r in t)if(t.hasOwnProperty(r)){if("function"===a(t[r]))continue;n=r.match(/^[0-9]+$/)?parseInt(r,10):r,o+=serialize(n)+serialize(t[r]),i++}e+=":"+i+":{"+o+"}";break;default:e="N"}return"object"!==s&&"array"!==s&&(e+=";"),e}function unserialize(t){var e=function(t){var e=t.charCodeAt(0),r=[338,339,352,353,376,402,8211,8212,8216,8217,8218,8220,8221,8222,8224,8225,8226,8230,8240,8364,8482];return e<128||e>=160&&e<=255||-1!==r.indexOf(e)?0:e<2048?1:2},r=function(t,e,r,n){switch(t){case"SyntaxError":throw new SyntaxError(e,r,n);case"Error":default:throw new Error(e,r,n)}},n=function(t,e,n){for(var o=2,i=[],a=t.slice(e,e+1);a!==n;)o+e>t.length&&r("Error","Invalid"),i.push(a),a=t.slice(e+(o-1),e+o),o+=1;return[i.length,i.join("")]},o=function(t,r,n){var o,i,a;for(a=[],o=0;o<n;o++)i=t.slice(r+(o-1),r+o),a.push(i),n-=e(i);return[a.length,a.join("")]},i=function(t,e){var a,s,u,c,p,f,l,A,d,h,y,g,v,m,w,j,b,E,L=0,k=function(t){return t};switch(e||(e=0),a=t.slice(e,e+1).toLowerCase(),s=e+2,a){case"i":k=function(t){return parseInt(t,10)},d=n(t,s,";"),L=d[0],A=d[1],s+=L+1;break;case"b":k=function(t){return 0!==parseInt(t,10)},d=n(t,s,";"),L=d[0],A=d[1],s+=L+1;break;case"d":k=function(t){return parseFloat(t)},d=n(t,s,";"),L=d[0],A=d[1],s+=L+1;break;case"n":A=null;break;case"s":h=n(t,s,":"),L=h[0],y=h[1],s+=L+2,d=o(t,s+1,parseInt(y,10)),L=d[0],A=d[1],s+=L+2,L!==parseInt(y,10)&&L!==A.length&&r("SyntaxError","String length mismatch");break;case"a":for(A={},u=n(t,s,":"),L=u[0],c=u[1],s+=L+2,f=parseInt(c,10),p=!0,g=0;g<f;g++)m=i(t,s),w=m[1],v=m[2],s+=w,j=i(t,s),b=j[1],E=j[2],s+=b,v!==g&&(p=!1),A[v]=E;if(p){for(l=new Array(f),g=0;g<f;g++)l[g]=A[g];A=l}s+=1;break;default:r("SyntaxError","Unknown / Unhandled data type(s): "+a)}return[a,s-e,k(A)]};return i(t+"",0)[2]}function print_r(t,e){void 0===e&&(e=!0);var r="",n=function(t){var e=/\W*function\s+([\w\$]+)\s*\(/.exec(t);return e?e[1]:"(Anonymous)"},o=function(t,e){for(var r="",n=0;n<t;n++)r+=e;return r},i=function(t,e,r,a){e>0&&e++;var s=o(r*e,a),u=o(r*(e+1),a),c="";if("object"==typeof t&&null!==t&&t.constructor&&"PHPJS_Resource"!==n(t.constructor)){c+="Array\n"+s+"(\n";for(var p in t)"[object Array]"===Object.prototype.toString.call(t[p])?c+=u+"["+p+"] => "+i(t[p],e+1,r,a):c+=u+"["+p+"] => "+t[p]+"\n";c+=s+")\n"}else c=null===t||void 0===t?"":t.toString();return c};return r=i(t,0,4," "),!0!==e?(alert(r),r):r}function extend(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o,i,a;"boolean"==typeof t?(o=2,i=t,a=e):(o=1,a=t,i=!0);for(var s=o;s<arguments.length;s++){var u=arguments[s];if(u)for(var c in u)i&&u[c]&&u[c].constructor===Object?a[c]&&a[c].constructor!==Object?a[c]=u[c]:(a[c]=a[c]||{},extend(a[c],i,u[c])):a[c]=u[c]}return a}var __read=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},__spread=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t},__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),DeferredPromise=function(){function t(){var t=this;this.resolve=function(){},this.reject=function(){},this._promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),this.then=this._promise.then.bind(this._promise),this.catch=this._promise.catch.bind(this._promise),this[Symbol.toStringTag]="Promise"}return t.prototype.promise=function(){return this._promise},t}();Promise.prototype.done||(Promise.prototype.done=function(t,e){this.then(t,e).catch(function(t){setTimeout(function(){throw t},0)})}),Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})});var LP;!function(t){var e=window.document.currentScript;if(!e){var r=window.document.getElementsByTagName("script");e=r[r.length-1]}var n=e.src?e.src:e.getAttribute("src"),o=n.toString().match(/[^\/:](\/.*)static\/js\/lp(\.min)?\.js/i)?n.toString().match(/[^\/:](\/.*)static\/js\/lp(\.min)?\.js/i)[1]:n.toString().replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,"")+"/";o||(o="/"),t.baseuri=o,jQuery&&(jQuery.baseuri=o)}(LP||(LP={}));var LP;!function(t){t.QUERY_LANGUAGE={error:"错误",reload:"重新载入",redirect:"页面跳转",unselected:"请至少选择一项！",network_timeout:"网络故障，请检查网络连接后重试！",parser_error:"数据解析失败，刷新重试下？",server_error:"服务器可能出现了点问题，刷新页面重试下？",encrypt_key:"数据已经加密，但未传递正确的公钥。",encrypt_js:"数据已经加密，但页面未加载解密JS。",encrypt_string:"数据已经加密，但密文解密失败，请联系管理员。",encrypt_unserialize:"数据已经加密，但解密后反序列化失败，请联系管理员。"}}(LP||(LP={}));var LP;!function(t){!function(t){var e=function(){function t(t){void 0===t&&(t=window.sessionStorage),this.rsa=this.getRSAKeys(t)}return t.prototype.getRSAKeys=function(t){var e=t.getItem("l+rsa"),r=e?JSON.parse(e):null;if(!r)if(window.JSEncrypt){var n=new window.JSEncrypt({default_key_size:1024}),o=n.getKey();r={private:o.getPrivateKey(),public:o.getPublicKey()},t.setItem("l+rsa",JSON.stringify(r))}else r={public:"",private:""};return r},t.prototype.encrypt=function(t){if(!window.JSEncrypt)return t;var e=new window.JSEncrypt;return e.setKey(this.rsa.public),e.encrypt(t)},t.prototype.decrypt=function(t){if(!window.JSEncrypt)return t;var e=new window.JSEncrypt;return e.setKey(this.rsa.private),e.decrypt(t)},t}();t.RSAGenerator=e}(t.sec||(t.sec={}))}(LP||(LP={}));var LP;!function(t){!function(e){var r=new e.RSAGenerator(window.sessionStorage),n=function(){function e(){}return e.prototype.actived=function(){return void 0!==window.JSEncrypt&&!!window.sessionStorage},e.prototype.getPublicKey=function(){return this.actived()?r.rsa.public:""},e.prototype.jsonError=function(e){return{result:"error",message:{title:t.QUERY_LANGUAGE.error,content:e},data:null}},e.prototype.decrypt=function(e){if(void 0!==e&&e instanceof Object&&void 0!==e.result&&"api"==e.result&&"string"==typeof e.encrypted){var n=void 0,o=void 0,i=void 0,a=window.base64js,s=window.aesjs;try{n=r.decrypt(e.encrypted)}catch(e){return console.log(e.stack),this.jsonError(t.QUERY_LANGUAGE.encrypt_key+e.message)}i=e.data;try{var u=a.toByteArray(i);o=JSON.parse(s.util.convertBytesToString(u))}catch(e){return console.log(e.stack),this.jsonError(t.QUERY_LANGUAGE.encrypt_string+e.message)}try{var c=a.toByteArray(n),p=a.toByteArray(o.iv),f=a.toByteArray(o.value),l=new s.ModeOfOperation.cbc(c,p),A=l.decrypt(f),d=s.util.convertBytesToString(A);e.data=unserialize(d)}catch(e){return console.log(e.stack),this.jsonError(t.QUERY_LANGUAGE.encrypt_unserialize+e.message)}}return delete e.encrypted,e},e}();e.Encryptor=n}(t.sec||(t.sec={}))}(LP||(LP={})),String.prototype.noHTML||(String.prototype.noHTML=function(){return this.replace(/<script[^>]*?>.*?<\/script>/gi,"").replace(/<[\/\!]*?[^<>]*?>/g,"").replace(/<style[^>]*?>.*?<\/style>/gi,"").replace(/<![\s\S]*?--[ \t\n\r]*>/,"").replace(/([\r\n])[\s]+/,"").replace(/&(quot|#34|amp|#38|lt|#60|gt|#62|nbsp|#160)/i,"")}),String.prototype.toHTML||(String.prototype.toHTML=function(){return this.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/</g,"&lt;").replace(/>/g,"&gt;")});var LP;!function(t){!function(t){function e(t){return t instanceof Object?t:{content:t}}function r(r,n){void 0===n&&(n=1e3);var o=e(r);return promiseWrap(function(){if("function"==typeof t.toast_interface)return t.toast_interface(o,n);window.alert(o.content.noHTML())})}function n(r,n){var o=e(r);return promiseWrap(function(){if("function"==typeof t.alert_interface)return t.alert_interface(o);window.alert(o.content.noHTML())}).then(function(){n&&"function"==typeof n&&n.call(void 0)})}function o(r,n,o){var i=e(r);return promiseWrap(function(){if("function"==typeof t.confirm_interface)return t.confirm_interface(i);if(!window.confirm(i.content.noHTML()))throw""}).then(function(){n&&"function"==typeof n&&n.call(void 0)},function(){o&&"function"==typeof o&&o.call(void 0)})}function i(r,n,o){var i=e(r);return promiseWrap(function(){if("function"==typeof t.prompt_interface)return t.prompt_interface(i);var e=window.prompt(i.content.noHTML());if(e)return e;throw""}).then(function(t){n&&"function"==typeof n&&n.call(void 0,t)},function(){o&&"function"==typeof o&&o.call(void 0)})}t.toast_interface=null,t.alert_interface=null,t.confirm_interface=null,t.prompt_interface=null,t.formatMessage=e,t.toast=r,t.alert=n,t.confirm=o,t.prompt=i}(t.tip||(t.tip={}))}(LP||(LP={}));var LP;!function(t){!function(t){function e(e,r,n){var o=t.formatMessage(e);return promiseWrap(function(){return"function"==typeof t.diy_interface?t.diy_interface(o,r,n):window.alert(o.content.noHTML())})}function r(t,r,n){if(void 0!==r&&"object"==typeof n)switch("string"==typeof r&&(r={content:r}),e(r,t,n),n.type){case"redirect":setTimeout(function(){self.location.href=n.url},n.timeout);break;case"refresh":setTimeout(function(){self.location.reload(),self.location.href=self.location.href},n.timeout)}}t.diy_interface=null,t.json=r}(t.tip||(t.tip={}))}(LP||(LP={}));var LP;!function(t){!function(e){function r(t){var e;if(t instanceof FormData)e=t;else{e=new FormData;for(var r in t)e.append(r,t[r])}return e}e.objectToForm=r;var n=function(){function e(){this.autoTip=!1,this.encryptor=new t.sec.Encryptor,this.commonHeaders={"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":e.getCSRF(),"X-RSA":encodeURIComponent(this.encryptor.getPublicKey())},this.headers={}}return e.prototype.setAutoTip=function(t){return this.autoTip=t,this},e.getCSRF=function(){var t=document.querySelector('meta[name="csrf-token"]');return t?t.getAttribute("content"):""},e.prototype.setHeader=function(t,e){return null==e?this.headers=t:this.headers[t.toString()]=e,this},e.prototype.setConfig=function(t,e){for(var r=this.config,n=t.split("."),o=0;o<n.length-1;o++){var i=n[o];r[i]=void 0!==r[i]?r[i]:{},r=r[i]}return r[n[n.length-1]]=e,this},e.prototype.request=function(t,e,r){var n=this;return this.encryptor.actived()&&this.decryptHandler(),this.requestHandler({method:t,url:e,data:r,headers:this.headers},this.config).then(function(t){if(t instanceof Object&&void 0!==t.result){if("success"==t.result||"api"==t.result)return n.autoTip&&n.errorHandler(t),t;throw t}return t}).catch(function(t){throw n.autoTip&&n.errorHandler(t),t})},e.prototype.get=function(t,e){return this.request("get",t,e)},e.prototype.post=function(t,e){return this.request("post",t,e)},e.prototype.head=function(t,e){return this.request("head",t,e)},e.prototype.options=function(t,e){return this.request("options",t,e)},e.prototype.patch=function(t,e){return this.request("patch",t,e)},e.prototype.put=function(t,e){return this.request("put",t,e)},e.prototype.delete=function(t,e){return this.request("delete",t,e)},e}();e.Base=n}(t.http||(t.http={}))}(LP||(LP={}));var LP;!function(t){!function(e){var r=function(r){function n(t,e){void 0===e&&(e=2e4);var n=r.call(this)||this;return n.instance=axios.create({baseURL:null==t?"":t,timeout:e,headers:n.commonHeaders,responseType:"json",xsrfHeaderName:"X-CSRF-TOKEN",xsrfCookieName:"XSRF-TOKEN",transformRequest:[function(t,e){return t}],transformResponse:[function(t){return t}]}),n}return __extends(n,r),n.prototype.requestHandler=function(t,e){var r="get"==t.method.toLowerCase()?t.data:{};return"get"==t.method.toLowerCase()&&(t.data=null),this.instance.request({method:t.method.toLowerCase(),url:t.url,params:r,data:t.data,headers:t.headers})},n.prototype.decryptHandler=function(){var t=this;this.instance.defaults.transformResponse=[function(e){var r=e;return r=t.encryptor.decrypt(r),e=r}]},n.prototype.errorHandler=function(e){e instanceof Error||e instanceof Object&&void 0!==e.result&&t.tip.json(e.result,e.message,e.tipType)},n.get=function(t,e){return(new n).request("get",t,e)},n.post=function(t,e){return(new n).request("post",t,e)},n.form=function(t,r){return(new n).request("post",t,e.objectToForm(r))},n.head=function(t,e){return(new n).request("head",t,e)},n.options=function(t,e){return(new n).request("options",t,e)},n.patch=function(t,e){return(new n).request("patch",t,e)},n.put=function(t,e){return(new n).request("put",t,e)},n.delete=function(t,e){return(new n).request("delete",t,e)},n}(e.Base);e.axiosAjax=r}(t.http||(t.http={}))}(LP||(LP={})),jQuery&&jQuery.fn.extend({query:function(t,e){return void 0===e&&(e=!0),this.each(function(){var r=jQuery(this),n=r.is("form"),o=r.data("lp-query");if(o&&r.off(n?"submit":"click",o),"destroy"!=t){var i=n?r.data("validator"):null;i&&(i.settings.submitHandler=function(t,e){}),o=function(o){if(r.is(".disabled,[disabled]"))return!1;var a=r.attr("selector"),s=n?r.add(a):jQuery(a);if(i&&!jQuery.isEmptyObject(i.invalid))return!1;if((a||n)&&s.serializeArray().length<=0)return LP.tip.toast(LP.QUERY_LANGUAGE.unselected),!1;var u=r.attr(n?"action":"href"),c=r.attr("method"),p=r.attr("confirm"),f=function(){var o=n?jQuery(":submit,:image",r):r;return o=o.filter(":not(.disabled,[disabled])"),o.prop("disabled",!0).attr("disabled","disabled").each(function(){var t=jQuery(this),e=t.offset();jQuery('<div style="position:absolute;left:'+(e.left+t.width())+"px;top:"+(e.top-16)+'px;height:16px;width:16px;display:block;z-index:99999" class="query-loading"><img src="data:image/gif;base64,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"</div>').appendTo("body")}),(new LP.http.jQueryAjax).setAutoTip(e).request(c,u,s.serializeArray()).then(function(e){void 0!==t&&jQuery.isFunction(t)&&t.call(r,e)}).finally(function(){jQuery(".query-loading").remove(),o.prop("disabled",!1).removeAttr("disabled")})};return p?(p=p.replace("%L",s.serializeArray().length.toString()),LP.tip.confirm(p,f)):f(),o.stopImmediatePropagation(),!1},r.on(n?"submit":"click",o).data({"lp-query":o})}})}});var LP;!function(t){!function(e){var r=function(e){function r(t){void 0===t&&(t=2e4);var r=e.call(this)||this;return jQuery.ajaxSetup({headers:r.commonHeaders,timeout:t}),r}return __extends(r,e),r.prototype.setConfig=function(t,e){return this},r.prototype.requestHandler=function(t,e){var r=t.headers,n=t.data;return void 0!==jQuery.deparam&&t.data&&t.data instanceof String&&(n=jQuery.deparam(t.data)),n&&n._method&&(t.method=n._method,r["X-HTTP-Method-Override"]=t.method),n&&n._token&&(r["X-CSRF-TOKEN"]=n._token),new Promise(function(e,o){var i={url:t.url,data:n||null,async:!0,cache:!1,type:t.method.toUpperCase(),method:t.method.toUpperCase(),headers:r,dataType:/[\?&](jsonp|callback)=\?/i.test(t.url)?"jsonp":"json",success:function(t,r,n){e(t)},error:function(t,e,r){o([].slice.call(arguments))}};void 0!==r.Authorization&&(i.beforeSend=function(t){t.setRequestHeader("Authorization",r.Authorization)}),jQuery.ajax(i)})},r.prototype.decryptHandler=function(){var t=this;jQuery.ajaxSetup({dataFilter:function(e,r){if("json"==r.toLowerCase()){var n=jQuery.parseJSON(e);n=t.encryptor.decrypt(n),e=JSON.stringify(n),void 0!==n.debug&&n.debug&&console.log(n)}return e}})},r.prototype.errorHandler=function(e){if(e instanceof Array){var r=e[0];switch(e[1]){case"timeout":t.tip.toast(t.QUERY_LANGUAGE.network_timeout);break;case"error":if(r instanceof Object&&void 0!==r.responseJSON){var n=r.responseJSON;n instanceof Object&&void 0!==n.result&&t.tip.json(n.result,n.message,n.tipType)}break;case"parsererror":t.tip.toast(t.QUERY_LANGUAGE.parser_error);break;case"abort":default:t.tip.toast(t.QUERY_LANGUAGE.server_error)}}else e instanceof Object&&void 0!==e.result&&t.tip.json(e.result,e.message,e.tipType)},r.get=function(t,e){return(new r).request("get",t,e)},r.post=function(t,e){return(new r).request("post",t,e)},r.form=function(t,e){return(new r).request(e.attr("method"),e.attr("action"),e.serializeArray())},r.head=function(t,e){return(new r).request("head",t,e)},r.options=function(t,e){return(new r).request("options",t,e)},r.patch=function(t,e){return(new r).request("patch",t,e)},r.put=function(t,e){return(new r).request("put",t,e)},r.delete=function(t,e){return(new r).request("delete",t,e)},r}(e.Base);e.jQueryAjax=r}(t.http||(t.http={}))}(LP||(LP={}));