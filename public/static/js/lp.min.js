"use strict";function promiseWrap(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return Promise.resolve(t.call.apply(t,__spread([this],e)))}function promiseReject(t){return Promise.reject(t)}function serialize(t){var e,r,n,o="",i=0,a=function(t){var e,r,n,o,i=typeof t;if("object"===i&&!t)return"null";if("object"===i){if(!t.constructor)return"object";n=t.constructor.toString(),e=n.match(/(\w+)\(/),e&&(n=e[1].toLowerCase()),o=["boolean","number","string","array"];for(r in o)if(n===o[r]){i=o[r];break}}return i},s=a(t);switch(s){case"function":e="";break;case"boolean":e="b:"+(t?"1":"0");break;case"number":e=(Math.round(t)===t?"i":"d")+":"+t;break;case"string":e="s:"+function(t){return~-encodeURI(t).split(/%..|./).length}(t)+':"'+t+'"';break;case"array":case"object":e="a";for(r in t)if(t.hasOwnProperty(r)){if("function"===a(t[r]))continue;n=r.match(/^[0-9]+$/)?parseInt(r,10):r,o+=serialize(n)+serialize(t[r]),i++}e+=":"+i+":{"+o+"}";break;case"undefined":default:e="N"}return"object"!==s&&"array"!==s&&(e+=";"),e}function unserialize(t){function e(t,r){var a,s,c,u,p,f,l,d,y,h,m,g,v,R,b,E,j,S,T=0,w=function(t){return t};switch(r||(r=0),a=t.slice(r,r+1).toLowerCase(),s=r+2,a){case"i":w=function(t){return parseInt(t,10)},y=o(t,s,";"),T=y[0],d=y[1],s+=T+1;break;case"b":w=function(t){return 0!==parseInt(t,10)},y=o(t,s,";"),T=y[0],d=y[1],s+=T+1;break;case"d":w=function(t){return parseFloat(t)},y=o(t,s,";"),T=y[0],d=y[1],s+=T+1;break;case"n":d=null;break;case"s":h=o(t,s,":"),T=h[0],m=h[1],s+=T+2,y=i(t,s+1,parseInt(m,10)),T=y[0],d=y[1],s+=T+2,T!==parseInt(m,10)&&T!==d.length&&n("SyntaxError","String length mismatch");break;case"a":for(d={},c=o(t,s,":"),T=c[0],u=c[1],s+=T+2,f=parseInt(u,10),p=!0,g=0;g<f;g++)R=e(t,s),b=R[1],v=R[2],s+=b,E=e(t,s),j=E[1],S=E[2],s+=j,v!==g&&(p=!1),d[v]=S;if(p){for(l=new Array(f),g=0;g<f;g++)l[g]=d[g];d=l}s+=1;break;default:n("SyntaxError","Unknown / Unhandled data type(s): "+a)}return[a,s-r,w(d)]}var r=function(t){for(var e=t.length,r=t.length-1;r>=0;r--){var n=t.charCodeAt(r);n>127&&n<=2047?e++:n>2047&&n<=65535&&(e+=2),n>=56320&&n<=57343&&r--}return e-1},n=function(t,e,r,n){switch(t){case"SyntaxError":throw new SyntaxError(e,r,n);case"Error":default:throw new Error(e,r,n)}},o=function(t,e,r){for(var o=2,i=[],a=t.slice(e,e+1);a!==r;)o+e>t.length&&n("Error","Invalid"),i.push(a),a=t.slice(e+(o-1),e+o),o+=1;return[i.length,i.join("")]},i=function(t,e,n){var o,i,a;for(a=[],o=0;o<n;o++)i=t.slice(e+(o-1),e+o),a.push(i),n-=r(i);return[a.length,a.join("")]};return e(t+"",0)[2]}function _phpCastString(t){switch(typeof t){case"boolean":return t?"1":"";case"string":return t;case"number":return isNaN(t)?"NAN":isFinite(t)?t+"":(t<0?"-":"")+"INF";case"undefined":return"";case"object":return Array.isArray(t)?"Array":null!==t?"Object":"";case"function":default:throw new Error("Unsupported value type")}}function strip_tags(t,e){e=(((e||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var r=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,n=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,o=_phpCastString(t);;){var i=o;if(o=i.replace(n,"").replace(r,function(t,r){return e.indexOf("<"+r.toLowerCase()+">")>-1?t:""}),i===o)return o}}function print_r(t,e){void 0===e&&(e=!0);var r="",n=function(t){var e=/\W*function\s+([\w\$]+)\s*\(/.exec(t);return e?e[1]:"(Anonymous)"},o=function(t,e){for(var r="",n=0;n<t;n++)r+=e;return r},i=function(t,e,r,a){e>0&&e++;var s=o(r*e,a),c=o(r*(e+1),a),u="";if("object"==typeof t&&null!==t&&t.constructor&&"PHPJS_Resource"!==n(t.constructor)){u+="Array\n"+s+"(\n";for(var p in t)"[object Array]"===Object.prototype.toString.call(t[p])?u+=c+"["+p+"] => "+i(t[p],e+1,r,a):u+=c+"["+p+"] => "+t[p]+"\n";u+=s+")\n"}else u=null===t||void 0===t?"":t.toString();return u};return r=i(t,0,4," "),!0!==e?(alert(r),r):r}function extend(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o,i,a;"boolean"==typeof t?(o=2,i=t,a=e):(o=1,a=t,i=!0);for(var s=o;s<arguments.length;s++){var c=arguments[s];if(c)for(var u in c)i&&c[u]&&c[u].constructor===Object?a[u]&&a[u].constructor!==Object?a[u]=c[u]:(a[u]=a[u]||{},extend(a[u],i,c[u])):a[u]=c[u]}return a}var __read=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},__spread=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t},__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),DeferredPromise=function(){function t(){var t=this;this.resolve=function(){},this.reject=function(){},this._promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),this.then=this._promise.then.bind(this._promise),this.catch=this._promise.catch.bind(this._promise),this[Symbol.toStringTag]="Promise"}return t.prototype.promise=function(){return this._promise},t}();Promise.prototype.done||(Promise.prototype.done=function(t,e){this.then(t,e).catch(function(t){setTimeout(function(){throw t},0)})}),Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})});var LP;!function(t){var e=window.document.currentScript;if(!e){var r=window.document.getElementsByTagName("script");e=r[r.length-1]}var n=e.src?e.src:e.getAttribute("src"),o=n.toString().match(/[^\/:](\/.*)static\/js\/lp(\.min)?\.js/i)?n.toString().match(/[^\/:](\/.*)static\/js\/lp(\.min)?\.js/i)[1]:n.toString().replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,"")+"/";o||(o="/"),t.baseuri=o,jQuery&&(jQuery.baseuri=o)}(LP||(LP={}));var LP;!function(t){t.QUERY_LANGUAGE={error:"\u9519\u8bef",reload:"\u91cd\u65b0\u8f7d\u5165",redirect:"\u9875\u9762\u8df3\u8f6c",unselected:"\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u9879\uff01",network_timeout:"\u7f51\u7edc\u6545\u969c\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\u540e\u91cd\u8bd5\uff01",parser_error:"\u6570\u636e\u89e3\u6790\u5931\u8d25\uff0c\u5237\u65b0\u91cd\u8bd5\u4e0b\uff1f",server_error:"\u670d\u52a1\u5668\u53ef\u80fd\u51fa\u73b0\u4e86\u70b9\u95ee\u9898\uff0c\u5237\u65b0\u9875\u9762\u91cd\u8bd5\u4e0b\uff1f",encrypt_key:"\u6570\u636e\u5df2\u7ecf\u52a0\u5bc6\uff0c\u4f46\u672a\u4f20\u9012\u6b63\u786e\u7684\u516c\u94a5\u3002",encrypt_js:"\u6570\u636e\u5df2\u7ecf\u52a0\u5bc6\uff0c\u4f46\u9875\u9762\u672a\u52a0\u8f7d\u89e3\u5bc6JS\u3002",encrypt_string:"\u6570\u636e\u5df2\u7ecf\u52a0\u5bc6\uff0c\u4f46\u5bc6\u6587\u89e3\u5bc6\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u3002",encrypt_unserialize:"\u6570\u636e\u5df2\u7ecf\u52a0\u5bc6\uff0c\u4f46\u89e3\u5bc6\u540e\u53cd\u5e8f\u5217\u5316\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u3002"}}(LP||(LP={}));var LP;!function(t){function e(t){return"object"!=typeof t?{content:t}:t}t.formatMessage=e}(LP||(LP={}));var LP;!function(t){var e;!function(t){t.SERVER="server",t.RUNTIME="runtime"}(e=t.ExceptionType||(t.ExceptionType={}));var r=function(){function r(n,o,i,a){this.exceptionType=e.RUNTIME,this.stack="",this.fileName="",this.lineNumber=0,this.columnNumber=0,"string"==typeof n?(this.$json=null==o?{result:"error",message:t.formatMessage(n),data:i,tipType:a}:{result:n,message:t.formatMessage(o),data:i,tipType:a},this.exceptionType=e.RUNTIME):"object"==typeof n?n instanceof r||void 0!==n.exceptionType?(this.$json=n.$json,this.stack=n.stack,this.fileName=n.fileName,this.lineNumber=n.lineNumber,this.columnNumber=n.columnNumber,this.exceptionType=n.exceptionType):n instanceof Error||void 0!==n.stack?(this.stack=n.stack,this.fileName=n.fileName,this.lineNumber=n.lineNumber,this.columnNumber=n.columnNumber,this.exceptionType=e.RUNTIME,this.$json={result:"error",message:t.formatMessage(n.message),data:n.stack}):"object"==typeof n&&void 0!==n.result?(this.$json=n,this.exceptionType=e.SERVER):(this.$json={result:"error",message:"",data:n},this.exceptionType=e.RUNTIME):(this.$json={result:"error",message:"",data:n},this.exceptionType=e.RUNTIME),this.stack||(this.stack=this.stacktrace())}return r.prototype.stacktrace=function(){var t=new Error;if(t.stack){var e=t.stack.split("\n");return e.splice(1,2),e.join("\n")}return t.stack},Object.defineProperty(r.prototype,"result",{get:function(){return this.getResult()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"data",{get:function(){return this.getData()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"message",{get:function(){return this.getData()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tipType",{get:function(){return this.getTipType()},enumerable:!0,configurable:!0}),r.prototype.getResult=function(){return this.$json.result},r.prototype.getData=function(){return this.$json.data},r.prototype.toString=function(){return this.getMessage().content},r.prototype.getMessage=function(){return t.formatMessage(this.$json.message)},r.prototype.getTipType=function(){return this.$json.tipType},r}();t.Exception=r}(LP||(LP={}));var LP;!function(t){!function(t){var e=function(){function t(t){void 0===t&&(t=window.sessionStorage),this.rsa=this.getRSAKeys(t)}return t.prototype.getRSAKeys=function(t){var e=t.getItem("l+rsa"),r=e?JSON.parse(e):null;if(!r)if(window.JSEncrypt){var n=new window.JSEncrypt({default_key_size:1024}),o=n.getKey();r={private:o.getPrivateKey(),public:o.getPublicKey()},t.setItem("l+rsa",JSON.stringify(r))}else r={public:"",private:""};return r},t.prototype.encrypt=function(t){if(!window.JSEncrypt)return t;var e=new window.JSEncrypt;return e.setKey(this.rsa.public),e.encrypt(t)},t.prototype.decrypt=function(t){if(!window.JSEncrypt)return t;var e=new window.JSEncrypt;return e.setKey(this.rsa.private),e.decrypt(t)},t}();t.RSAGenerator=e}(t.sec||(t.sec={}))}(LP||(LP={}));var LP;!function(t){!function(e){var r=new e.RSAGenerator(window.sessionStorage),n=function(){function e(){}return e.prototype.actived=function(){return void 0!==window.JSEncrypt&&!!window.sessionStorage},e.prototype.getPublicKey=function(){return this.actived()?r.rsa.public:""},e.prototype.jsonError=function(e){return{result:"error",message:{title:t.QUERY_LANGUAGE.error,content:e},data:null}},e.prototype.decrypt=function(e){if(void 0!==e&&e instanceof Object&&void 0!==e.result&&"api"==e.result&&"string"==typeof e.encrypted){var n=void 0,o=void 0,i=void 0,a=window.base64js,s=window.aesjs;try{n=r.decrypt(e.encrypted)}catch(e){return console.log(e.stack),this.jsonError(t.QUERY_LANGUAGE.encrypt_key+e.message)}i=e.data;try{var c=a.toByteArray(i);o=JSON.parse(s.util.convertBytesToString(c))}catch(e){return console.log(e.stack),this.jsonError(t.QUERY_LANGUAGE.encrypt_string+e.message)}try{var u=a.toByteArray(n),p=a.toByteArray(o.iv),f=a.toByteArray(o.value),l=new s.ModeOfOperation.cbc(u,p),d=l.decrypt(f),y=s.util.convertBytesToString(d);e.data=unserialize(y)}catch(e){return console.log(e.stack),this.jsonError(t.QUERY_LANGUAGE.encrypt_unserialize+e.message)}}return delete e.encrypted,e},e}();e.Encryptor=n}(t.sec||(t.sec={}))}(LP||(LP={})),String.prototype.noHTML||(String.prototype.noHTML=function(){return strip_tags(this+"")}),String.prototype.toHTML||(String.prototype.toHTML=function(){return this.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}),String.prototype.toPre||(String.prototype.toPre=function(){return this.replace(/\040/g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br />$2")});var LP;!function(t){!function(e){function r(r,n){void 0===n&&(n=1e3);var o=t.formatMessage(r);return promiseWrap(function(){if("function"==typeof e.toast_interface)return e.toast_interface(o,n);window.alert(o.content.noHTML())})}function n(r,n){var o=t.formatMessage(r);return promiseWrap(function(){if("function"==typeof e.alert_interface)return e.alert_interface(o);window.alert(o.content.noHTML())}).then(function(){if(n&&"function"==typeof n)return n.call(void 0)})}function o(r,n,o){var i=t.formatMessage(r);return promiseWrap(function(){return"function"==typeof e.confirm_interface?e.confirm_interface(i):window.confirm(i.content.noHTML())?void 0:promiseReject()}).then(function(){if(n&&"function"==typeof n)return n.call(void 0)},function(t){return promiseReject.call(void 0,o&&"function"==typeof o?o.call(void 0):t)})}function i(r,n,o){var i=t.formatMessage(r);return promiseWrap(function(){if("function"==typeof e.prompt_interface)return e.prompt_interface(i);var t=window.prompt(i.content.noHTML());return t||promiseReject()}).then(function(t){if(n&&"function"==typeof n)return n.call(void 0,t)},function(t){return promiseReject.call(void 0,o&&"function"==typeof o?o.call(void 0):t)})}e.toast_interface=null,e.alert_interface=null,e.confirm_interface=null,e.prompt_interface=null,e.toast=r,e.alert=n,e.confirm=o,e.prompt=i}(t.tip||(t.tip={}))}(LP||(LP={}));var LP;!function(t){!function(e){function r(t,r,n){return promiseWrap(function(){return"function"==typeof e.diy_interface?e.diy_interface(t,r,n):window.alert(t.content.noHTML())})}function n(e,n,o){if(void 0!==n&&("string"==typeof n&&(n=t.formatMessage(n)),r(n,e,o)),"object"==typeof o)switch(o.type){case"redirect":setTimeout(function(){self.location.href=o.url},o.timeout);break;case"refresh":setTimeout(function(){self.location.reload(),self.location.href=self.location.href},o.timeout)}}e.diy_interface=null,e.json=n}(t.tip||(t.tip={}))}(LP||(LP={}));var LP;!function(t){!function(e){function r(t){var e;if(t instanceof FormData)e=t;else{e=new FormData;for(var r in t)e.append(r,t[r])}return e}var n;!function(t){t[t.ALERT_RUNTIME_ERROR=1]="ALERT_RUNTIME_ERROR",t[t.ALERT_SERVER_ERROR=2]="ALERT_SERVER_ERROR",t[t.ALERT_SUCCESS=4]="ALERT_SUCCESS",t[t.ALERT_ERROR=3]="ALERT_ERROR",t[t.ALERT_ALL=7]="ALERT_ALL"}(n=e.TIP_MASK||(e.TIP_MASK={})),e.objectToForm=r;var o=function(){function e(){this.tipMask=0,this.encryptor=new t.sec.Encryptor,this.commonHeaders={"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":e.getCSRF(),"X-RSA":encodeURIComponent(this.encryptor.getPublicKey())},this.headers={},this.tipMask=0}return e.getInstance=function(){return new this},e.prototype.alertMask=function(t){return this.tipMask|=t,this},e.prototype.alertAll=function(t){return void 0===t&&(t=!0),this.tipMask=t?n.ALERT_ALL:0,this},e.prototype.alertRuntimeError=function(t){return void 0===t&&(t=!0),t?this.tipMask|=n.ALERT_RUNTIME_ERROR:this.tipMask^=n.ALERT_RUNTIME_ERROR,this},e.prototype.alertServerError=function(t){return void 0===t&&(t=!0),t?this.tipMask|=n.ALERT_SERVER_ERROR:this.tipMask^=n.ALERT_SERVER_ERROR,this},e.prototype.alertError=function(t){return void 0===t&&(t=!0),t?this.tipMask|=n.ALERT_ERROR:this.tipMask^=n.ALERT_ERROR,this},e.prototype.alertSuccess=function(t){return void 0===t&&(t=!0),t?this.tipMask|=n.ALERT_SUCCESS:this.tipMask^=n.ALERT_SUCCESS,this},e.getCSRF=function(){var t=document.querySelector('meta[name="csrf-token"]');return t?t.getAttribute("content"):""},e.prototype.setHeader=function(t,e){return null==e?this.headers=t:this.headers[t.toString()]=e,this},e.prototype.setConfig=function(t,e){for(var r=this.config,n=t.split("."),o=0;o<n.length-1;o++){var i=n[o];r[i]=void 0!==r[i]?r[i]:{},r=r[i]}return r[n[n.length-1]]=e,this},e.prototype.request=function(e,r,o){var i=this;return this.encryptor.actived()&&this.decryptHandler(),this.requestHandler({method:e,url:r,data:o,headers:this.headers},this.config).then(function(e){return e instanceof Object&&void 0!==e.result?"success"==e.result||"api"==e.result?(i.tipMask&n.ALERT_SUCCESS&&i.errorHandler(e),e):promiseReject(new t.Exception(e)):e}).catch(function(e){return e instanceof t.Exception?(e.exceptionType==t.ExceptionType.SERVER&&i.tipMask&n.ALERT_SERVER_ERROR?i.errorHandler(e):e.exceptionType==t.ExceptionType.RUNTIME&&i.tipMask&n.ALERT_RUNTIME_ERROR&&i.errorHandler(e),promiseReject(e)):promiseReject(new t.Exception(e))})},e.prototype.get=function(t,e){return this.request("get",t,e)},e.prototype.post=function(t,e){return this.request("post",t,e)},e.prototype.head=function(t,e){return this.request("head",t,e)},e.prototype.options=function(t,e){return this.request("options",t,e)},e.prototype.patch=function(t,e){return this.request("patch",t,e)},e.prototype.put=function(t,e){return this.request("put",t,e)},e.prototype.delete=function(t,e){return this.request("delete",t,e)},e}();e.Base=o}(t.http||(t.http={}))}(LP||(LP={}));var LP;!function(t){!function(e){var r=function(r){function n(t,e){void 0===e&&(e=3e4);var n=r.call(this)||this;return n.instance=axios.create({baseURL:null==t?"":t,timeout:e,headers:n.commonHeaders,responseType:"json",xsrfHeaderName:"X-CSRF-TOKEN",xsrfCookieName:"XSRF-TOKEN",transformRequest:[function(t,e){return t}],transformResponse:[function(t){return t}]}),n}return __extends(n,r),n.prototype.requestHandler=function(t,e){var r="get"==t.method.toLowerCase()?t.data:{};"get"==t.method.toLowerCase()&&(t.data=null);var n={method:t.method.toLowerCase(),url:t.url,params:r,data:t.data,headers:t.headers},o=extend(!0,{},n,e);return this.instance.request(o)},n.prototype.decryptHandler=function(){var t=this;this.instance.defaults.transformResponse=[function(e){var r=e;try{r=t.encryptor.decrypt(r),e=r}catch(t){console.log(t)}return e}]},n.prototype.errorHandler=function(e){e instanceof t.Exception||void 0!==e.result?t.tip.json(e.result,e.message,e.tipType):void 0!==e.toString?t.tip.toast(e.toString()):"string"==typeof e&&t.tip.toast(e)},n.get=function(t,e){return(new n).request("get",t,e)},n.post=function(t,e){return(new n).request("post",t,e)},n.form=function(t,r){return(new n).request("post",t,e.objectToForm(r))},n.head=function(t,e){return(new n).request("head",t,e)},n.options=function(t,e){return(new n).request("options",t,e)},n.patch=function(t,e){return(new n).request("patch",t,e)},n.put=function(t,e){return(new n).request("put",t,e)},n.delete=function(t,e){return(new n).request("delete",t,e)},n}(e.Base);e.axiosAjax=r}(t.http||(t.http={}))}(LP||(LP={})),jQuery&&jQuery.fn.extend({query:function(t,e,r){return null==r&&"number"==typeof e?(r=e,e=void 0):null==r&&(r=LP.http.TIP_MASK.ALERT_ALL),this.each(function(){var n=jQuery(this),o=n.is("form"),i=n.data("lp-query");if(i&&n.off(o?"submit":"click",i),"destroy"!=t){var a=o?n.data("validator"):null;a&&(a.settings.submitHandler=function(t,e){}),i=function(i){if(n.is(".disabled,[disabled]"))return!1;var s=n.attr("selector"),c=o?n.add(s):jQuery(s);if(a&&!jQuery.isEmptyObject(a.invalid))return!1;if((s||o)&&c.serializeArray().length<=0)return LP.tip.toast(LP.QUERY_LANGUAGE.unselected),!1;var u=n.attr(o?"action":"href"),p=n.attr("method"),f=n.attr("confirm"),l=function(){var i=o?jQuery(":submit,:image",n):n;i=i.filter(":not(.disabled,[disabled])"),i.prop("disabled",!0).attr("disabled","disabled").each(function(){var t=jQuery(this),e=t.offset();jQuery('<div style="position:absolute;left:'+(e.left+t.width())+"px;top:"+(e.top-16)+'px;height:32px;width:32px;display:block;z-index:99999" class="query-loading"><img style="width:32px;height:32px;" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nNTcnIGhlaWdodD0nNTcnIHZpZXdCb3g9JzAgMCA1NyA1NycgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBzdHJva2U9JyNmZmYnPjxnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCc+PGcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMSAxKScgc3Ryb2tlLXdpZHRoPScyJz48Y2lyY2xlIGN4PSc1JyBjeT0nNTAnIHI9JzUnIHN0cm9rZT0nIzQyODVGNCc+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nY3knIGJlZ2luPScwcycgZHVyPScyLjJzJyB2YWx1ZXM9JzUwOzU7NTA7NTAnIGNhbGNNb2RlPSdsaW5lYXInIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJyAvPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J2N4JyBiZWdpbj0nMHMnIGR1cj0nMi4ycycgdmFsdWVzPSc1OzI3OzQ5OzUnIGNhbGNNb2RlPSdsaW5lYXInIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJyAvPjwvY2lyY2xlPjxjaXJjbGUgY3g9JzI3JyBjeT0nNScgcj0nNScgc3Ryb2tlPScjREUzRTM1Jz48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdjeScgYmVnaW49JzBzJyBkdXI9JzIuMnMnIGZyb209JzUnIHRvPSc1JyB2YWx1ZXM9JzU7NTA7NTA7NScgY2FsY01vZGU9J2xpbmVhcicgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnIC8+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nY3gnIGJlZ2luPScwcycgZHVyPScyLjJzJyBmcm9tPScyNycgdG89JzI3JyB2YWx1ZXM9JzI3OzQ5OzU7MjcnIGNhbGNNb2RlPSdsaW5lYXInIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJyAvPjwvY2lyY2xlPjxjaXJjbGUgY3g9JzQ5JyBjeT0nNTAnIHI9JzUnIHN0cm9rZT0nI0Y3QzIyMyc+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nY3knIGJlZ2luPScwcycgZHVyPScyLjJzJyB2YWx1ZXM9JzUwOzUwOzU7NTAnIGNhbGNNb2RlPSdsaW5lYXInIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJyAvPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J2N4JyBmcm9tPSc0OScgdG89JzQ5JyBiZWdpbj0nMHMnIGR1cj0nMi4ycycgdmFsdWVzPSc0OTs1OzI3OzQ5JyBjYWxjTW9kZT0nbGluZWFyJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScgLz48L2NpcmNsZT48L2c+PC9nPjwvc3ZnPg=="></div>').appendTo("body")});var a=c.serializeArray(),s=jQuery('input[type="file"]:not([name=""])',c);if(c.is('[enctype="multipart/form-data"]')||s.length>0){var f=new FormData;a.forEach(function(t){return f.append(t.name,t.value)}),s.each(function(){var t=this;jQuery.each(this.files,function(e,r){return f.append(jQuery(t).attr("name"),r)})}),a=f}return LP.http.jQueryAjax.getInstance().alertMask(r).request(p,u,a).then(function(e){if(void 0!==t&&jQuery.isFunction(t))return t.call(n,e)}).catch(function(t){if(void 0!==e&&jQuery.isFunction(e))return e.call(n,t)}).finally(function(){jQuery(".query-loading").remove(),i.prop("disabled",!1).removeAttr("disabled")})};return f?(f=f.replace("%L",c.serializeArray().length.toString()),LP.tip.confirm(f,l)):l(),i.stopImmediatePropagation(),!1},n.on(o?"submit":"click",i).data({"lp-query":i})}})}});var LP;!function(t){!function(e){var r=function(e){function r(t){void 0===t&&(t=3e4);var r=e.call(this)||this;return jQuery.ajaxSetup({headers:r.commonHeaders,timeout:t}),r}return __extends(r,e),r.prototype.requestHandler=function(e,r){var n=e.headers,o=e.data;return void 0!==jQuery.deparam&&e.data&&e.data instanceof String&&(o=jQuery.deparam(e.data)),o&&o._method&&(e.method=o._method,n["X-HTTP-Method-Override"]=e.method),o&&o._token&&(n["X-CSRF-TOKEN"]=o._token),new Promise(function(i,a){var s={url:e.url,data:o||null,async:!0,cache:!1,type:e.method.toUpperCase(),method:e.method.toUpperCase(),headers:n,processData:!(o instanceof FormData),dataType:/[\?&](jsonp|callback)=\?/i.test(e.url)?"jsonp":"json",success:function(t,e,r){i(t)},error:function(e,r,n){a("error"==r&&e instanceof Object&&void 0!==e.responseJSON?new t.Exception(e.responseJSON):new t.Exception({XMLHttpRequest:e,textStatus:r,errorThrown:n}))}},c=extend(!0,{},s,r);c.beforeSend=function(t){void 0!==n.Authorization&&t.setRequestHeader("Authorization",n.Authorization),!1===c.processData&&t.overrideMimeType&&t.overrideMimeType("multipart/form-data")},!1===c.processData&&(c.enctype="multipart/form-data",c.contentType=!1,c.mimeType="multipart/form-data"),jQuery.ajax(c)})},r.prototype.decryptHandler=function(){var t=this;jQuery.ajaxSetup({dataFilter:function(e,r){if("json"==r.toLowerCase()){var n=void 0;try{n=jQuery.parseJSON(e),n=t.encryptor.decrypt(n),e=JSON.stringify(n),void 0!==n.debug&&n.debug&&console.log(n)}catch(t){console.log(t)}}return e}})},r.prototype.errorHandler=function(e){if(e instanceof t.Exception){var r=e.getData();if(r&&void 0!==r.XMLHttpRequest&&void 0!==r.textStatus){switch(r.textStatus){case"timeout":t.tip.toast(t.QUERY_LANGUAGE.network_timeout);break;case"parsererror":t.tip.toast(t.QUERY_LANGUAGE.parser_error);break;case"notmodified":case"error":case"abort":default:t.tip.toast(t.QUERY_LANGUAGE.server_error)}}else t.tip.json(e.getResult(),e.getMessage(),e.getTipType())}else void 0!==e.result?t.tip.json(e.result,e.message,e.tipType):void 0!==e.toString?t.tip.toast(e.toString()):"string"==typeof e&&t.tip.toast(e)},r.get=function(t,e){return(new r).request("get",t,e)},r.post=function(t,e){return(new r).request("post",t,e)},r.form=function(t,e){var n=new r,o=e.serializeArray(),i=jQuery('input[type="file"]:not([name=""])',e);if(e.is('[enctype="multipart/form-data"]')||i.length>0){var a=new FormData;o.forEach(function(t){return a.append(t.name,t.value)}),i.each(function(){var t=this;jQuery.each(this.files,function(e,r){return a.append(jQuery(t).attr("name"),r)})}),o=a}return n.request(e.attr("method"),e.attr("action"),o)},r.head=function(t,e){return(new r).request("head",t,e)},r.options=function(t,e){return(new r).request("options",t,e)},r.patch=function(t,e){return(new r).request("patch",t,e)},r.put=function(t,e){return(new r).request("put",t,e)},r.delete=function(t,e){return(new r).request("delete",t,e)},r}(e.Base);e.jQueryAjax=r}(t.http||(t.http={}))}(LP||(LP={}));
